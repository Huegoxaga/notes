
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Wechat Mini Program Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../c/" />
    
    
    <link rel="prev" href="node-js.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../python/">
            
                <a href="../python/">
            
                    
                    Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../python/standard-library.html">
            
                <a href="../python/standard-library.html">
            
                    
                    Python Stardard Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../python/pip.html">
            
                <a href="../python/pip.html">
            
                    
                    pip
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../python/anaconda.html">
            
                <a href="../python/anaconda.html">
            
                    
                    Libraries with Anaconda
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../python/django.html">
            
                <a href="../python/django.html">
            
                    
                    Django
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../java/">
            
                <a href="../java/">
            
                    
                    Java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../java/javafx.html">
            
                <a href="../java/javafx.html">
            
                    
                    JavaFX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../java/android.md">
            
                <span>
            
                    
                    Android Studio
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="jquery.html">
            
                <a href="jquery.html">
            
                    
                    jQuery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="react.html">
            
                <a href="react.html">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="react-native.html">
            
                <a href="react-native.html">
            
                    
                    React Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="node-js.html">
            
                <a href="node-js.html">
            
                    
                    Node.js
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.5" data-path="wechat-mini-program.html">
            
                <a href="wechat-mini-program.html">
            
                    
                    Wechat Mini Program
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../c/">
            
                <a href="../c/">
            
                    
                    C
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../cpp/">
            
                <a href="../cpp/">
            
                    
                    C++
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../c-sharp/">
            
                <a href="../c-sharp/">
            
                    
                    C#
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../c-sharp/dot-net.html">
            
                <a href="../c-sharp/dot-net.html">
            
                    
                    .NET
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../c-sharp/asp-dot-net.html">
            
                <a href="../c-sharp/asp-dot-net.html">
            
                    
                    ASP.NET
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../swift/">
            
                <a href="../swift/">
            
                    
                    Swift
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../swift/xcode.html">
            
                <a href="../swift/xcode.html">
            
                    
                    Xcode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../markup/">
            
                <a href="../markup/">
            
                    
                    Markup Language
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../markup/html.html">
            
                <a href="../markup/html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../markup/xml.html">
            
                <a href="../markup/xml.html">
            
                    
                    XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../markup/gfm.html">
            
                <a href="../markup/gfm.html">
            
                    
                    GFM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../markup/latex.html">
            
                <a href="../markup/latex.html">
            
                    
                    LaTeX
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../css/">
            
                <a href="../css/">
            
                    
                    CSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../css/bootstrap.html">
            
                <a href="../css/bootstrap.html">
            
                    
                    Bootstrap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../typescript/">
            
                <a href="../typescript/">
            
                    
                    TypeScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../typescript/angular.html">
            
                <a href="../typescript/angular.html">
            
                    
                    Angular
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../php/">
            
                <a href="../php/">
            
                    
                    PHP
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../php/wordpress.html">
            
                <a href="../php/wordpress.html">
            
                    
                    WordPress
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../sql/">
            
                <a href="../sql/">
            
                    
                    SQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../os/">
            
                <a href="../os/">
            
                    
                    Operating Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../os/linux.html">
            
                <a href="../os/linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../os/bash-scripting.html">
            
                <a href="../os/bash-scripting.html">
            
                    
                    Bash Scripting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../os/regex.html">
            
                <a href="../os/regex.html">
            
                    
                    Regular Expression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="../os/macos.html">
            
                <a href="../os/macos.html">
            
                    
                    MacOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="../os/solution-stack.html">
            
                <a href="../os/solution-stack.html">
            
                    
                    Solution Stack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="../os/hadoop.html">
            
                <a href="../os/hadoop.html">
            
                    
                    Hadoop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="../os/git.html">
            
                <a href="../os/git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="../os/redis.html">
            
                <a href="../os/redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../networking/">
            
                <a href="../networking/">
            
                    
                    Networking
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../networking/security.html">
            
                <a href="../networking/security.html">
            
                    
                    Security
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="../networking/cisco.html">
            
                <a href="../networking/cisco.html">
            
                    
                    Cisco
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../virtualization/">
            
                <a href="../virtualization/">
            
                    
                    Virtualization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../virtualization/virtualbox.html">
            
                <a href="../virtualization/virtualbox.html">
            
                    
                    VirtualBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="../virtualization/docker.html">
            
                <a href="../virtualization/docker.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="../virtualization/kubernetes.html">
            
                <a href="../virtualization/kubernetes.html">
            
                    
                    Kubernetes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../cloud-services/">
            
                <a href="../cloud-services/">
            
                    
                    Cloud Services
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="../cloud-services/aws.html">
            
                <a href="../cloud-services/aws.html">
            
                    
                    AWS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="../cloud-services/gcp.html">
            
                <a href="../cloud-services/gcp.html">
            
                    
                    GCP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../embedded/">
            
                <a href="../embedded/">
            
                    
                    Embedded Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../embedded/arduino.html">
            
                <a href="../embedded/arduino.html">
            
                    
                    Arduino
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="../embedded/raspberry-pi.html">
            
                <a href="../embedded/raspberry-pi.html">
            
                    
                    Raspberry Pi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="../embedded/st.html">
            
                <a href="../embedded/st.html">
            
                    
                    STMicroelectronics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="../embedded/electricity-magnetism.html">
            
                <a href="../embedded/electricity-magnetism.html">
            
                    
                    Electricity & Magnetism
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../algorithm/">
            
                <a href="../algorithm/">
            
                    
                    Algorithm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="../algorithm/blockchain.html">
            
                <a href="../algorithm/blockchain.html">
            
                    
                    Blockchain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="../algorithm/cryptography.html">
            
                <a href="../algorithm/cryptography.html">
            
                    
                    Cryptography
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.3" data-path="../algorithm/ml.html">
            
                <a href="../algorithm/ml.html">
            
                    
                    Machine Learning
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../math/">
            
                <a href="../math/">
            
                    
                    Mathematics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="../math/calculus.html">
            
                <a href="../math/calculus.html">
            
                    
                    Calculus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="../math/linear-algebra.html">
            
                <a href="../math/linear-algebra.html">
            
                    
                    Linear Algebra
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="../math/discrete.html">
            
                <a href="../math/discrete.html">
            
                    
                    Discrete Mathematics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="../math/probability-statistics.html">
            
                <a href="../math/probability-statistics.html">
            
                    
                    Probability & Statistics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="../math/maple.html">
            
                <a href="../math/maple.html">
            
                    
                    Maple Softwares
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../graphic-design/">
            
                <a href="../graphic-design/">
            
                    
                    Graphic Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../music/">
            
                <a href="../music/">
            
                    
                    Music Theory
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Wechat Mini Program</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="wechat-mini-program">Wechat Mini Program</h1>
<h1 id="introduction">Introduction</h1>
<ul>
<li>Wechat is the most popular messaging app in China developed by Tencent, with over 1.1 billion monthly active user (2019).</li>
<li>Wechat has deployed unique features like Wechat Pay, Official accounts for articles posting, and Mini Programs for app hosting inside Wechat.</li>
<li>Wechat Mini Program is like any other web apps, written in JavaScript with the help of its own APIs. It can obtains the user&apos;s Wechat account info easily. It can be hosted inside Wechat for free.</li>
</ul>
<h1 id="preparation">Preparation</h1>
<ul>
<li><a href="https://mp.weixin.qq.com/cgi-bin/wx?token=&amp;lang=en_US" target="_blank">Register</a> a mini program account.</li>
<li><a href="https://mp.weixin.qq.com/?lang=en_US" target="_blank">Login</a> to the account admin page.</li>
<li>Fill in all required information about the mini program.</li>
<li>Get the appID.</li>
<li><a href="https://developers.weixin.qq.com/miniprogram/en/dev/devtools/download.html" target="_blank">Download</a> the development tool.</li>
<li>Login the development tool.</li>
<li>Create new project with appID and start.</li>
</ul>
<blockquote>
<p><em><strong>Notes</strong></em>:</p>
<ul>
<li><em>To immediately start a project for learning or testing purpose, skips the steps for mini program registration. Download the development tool and create a new project with testing accounts. However, testing account does not have access to cloud services.</em></li>
<li><em>For newly created projects, Cloud Services will not be available within the first 10 min.</em></li>
</ul>
</blockquote>
<h1 id="files">Files</h1>
<h2 id="template-project-folder">Template Project Folder</h2>
<ul>
<li>Pages folder contains 4 files for each page in one folder, each page folder has its own  .wxml, .wxss, .json, .js files.</li>
<li>utils folder contain js files(util.js) that has global utility functions for code reuse purpose.</li>
<li>app.js the JavaScript script file for the entire app.</li>
<li>app.json this is the configuration file for the entire mini programs.</li>
<li>app.wxss is the style sheet for the entire app.</li>
<li>project.config.json this is the project configuration file for the development tool.</li>
</ul>
<h3 id="json-file">json file</h3>
<ul>
<li>It is the configuration files for the mini program.</li>
<li>The properties set in the json file from each page folder overrides the properties set in the app.json file.</li>
<li>All of the properties are enclosed by one set of curly brackets.<pre><code class="lang-json">{
<span class="hljs-string">&quot;property1&quot;</span>: <span class="hljs-string">&quot;value&quot;</span>,
<span class="hljs-string">&quot;property2&quot;</span>: <span class="hljs-literal">true</span>,
<span class="hljs-string">&quot;property3&quot;</span>: {},
}
</code></pre>
</li>
</ul>
<h4 id="global-configuration">Global Configuration</h4>
<p><a href="https://developers.weixin.qq.com/miniprogram/en/dev/reference/configuration/app.html" target="_blank">Click</a> to see a complete list of Global Configuration.</p>
<h5 id="pages">pages</h5>
<pre><code class="lang-json">  <span class="hljs-string">&quot;pages&quot;</span>: [
    <span class="hljs-string">&quot;folderPath/pageName&quot;</span>
 ]
</code></pre>
<ul>
<li>The pages property stores an array of the wxml file path for each page.</li>
<li>The file extension is not required.</li>
</ul>
<h5 id="window">window</h5>
<pre><code class="lang-json"><span class="hljs-string">&quot;window&quot;</span>: {
  <span class="hljs-string">&quot;backgroundTextStyle&quot;</span>: <span class="hljs-string">&quot;light&quot;</span>,
  <span class="hljs-string">&quot;navigationBarBackgroundColor&quot;</span>: <span class="hljs-string">&quot;#620933&quot;</span>,
  <span class="hljs-string">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;Page Title&quot;</span>,
  <span class="hljs-string">&quot;navigationBarTextStyle&quot;</span>: <span class="hljs-string">&quot;white&quot;</span>,
  <span class="hljs-string">&quot;enablePullDownRefresh&quot;</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<ul>
<li>window property set the page&apos;s general property like background color and text styles.</li>
</ul>
<h5 id="tabbar">tabBar</h5>
<pre><code class="lang-json"><span class="hljs-string">&quot;tabBar&quot;</span>: {
  <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#626567&quot;</span>,
  <span class="hljs-string">&quot;selectedColor&quot;</span>: <span class="hljs-string">&quot;#620933&quot;</span>,
  <span class="hljs-string">&quot;backgroundColor&quot;</span>: <span class="hljs-string">&quot;#FBFBFB&quot;</span>,
  <span class="hljs-string">&quot;borderStyle&quot;</span>: <span class="hljs-string">&quot;white&quot;</span>,
  <span class="hljs-string">&quot;list&quot;</span>: [
    {
      <span class="hljs-string">&quot;pagePath&quot;</span>: <span class="hljs-string">&quot;pages/discovery/discovery&quot;</span>,
      <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;iconPath&quot;</span>: <span class="hljs-string">&quot;images/discovery.png&quot;</span>,
      <span class="hljs-string">&quot;selectedIconPath&quot;</span>: <span class="hljs-string">&quot;images/discovery_focus.png&quot;</span>
    },
    {
      <span class="hljs-string">&quot;pagePath&quot;</span>: <span class="hljs-string">&quot;pages/index/index&quot;</span>,
      <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;iconPath&quot;</span>: <span class="hljs-string">&quot;images/index.png&quot;</span>,
      <span class="hljs-string">&quot;selectedIconPath&quot;</span>: <span class="hljs-string">&quot;images/index_focus.png&quot;</span>
    },
    {
      <span class="hljs-string">&quot;pagePath&quot;</span>: <span class="hljs-string">&quot;pages/more/more&quot;</span>,
      <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;iconPath&quot;</span>: <span class="hljs-string">&quot;images/user.png&quot;</span>,
      <span class="hljs-string">&quot;selectedIconPath&quot;</span>: <span class="hljs-string">&quot;images/user_focus.png&quot;</span>
    }
  ]
},
</code></pre>
<ul>
<li>tabBar property is used to set the tab bar of the mini program.</li>
<li>It should be set in the app.json file.</li>
</ul>
<h5 id="networktimeout">networkTimeout</h5>
<pre><code class="lang-json"><span class="hljs-string">&quot;networkTimeout&quot;</span>: {
  <span class="hljs-string">&quot;request&quot;</span>: <span class="hljs-number">10000</span>,
  <span class="hljs-string">&quot;downloadFile&quot;</span>: <span class="hljs-number">10000</span>
},
</code></pre>
<ul>
<li>It is used to setup the connection property of the program.</li>
<li>It should be set in the app.json file.</li>
</ul>
<h4 id="page-configuration">Page Configuration</h4>
<ul>
<li>Most of the properties inside the global window property can be used directly as Page Configuration in page.json file, inside <code>{}</code>.<pre><code class="lang-json">{
  <span class="hljs-string">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;Page Title&quot;</span>
}
</code></pre>
</li>
<li><a href="https://developers.weixin.qq.com/miniprogram/en/dev/reference/configuration/page.html" target="_blank">Click</a> to see a complete list of Page Configuration.</li>
</ul>
<h3 id="js-file">js file</h3>
<ul>
<li>.js contains the JavaScript codes for the mini program.</li>
<li>For <code>app.js</code>, all data and function are enclosed as properties of <code>APP({ })</code>.</li>
<li>For <code>pageName.js</code> in each page folder, all data and function are enclosed as properties of <code>Page({ })</code>.</li>
<li><code>APP({ })</code> or <code>Page({ })</code> is used to register an App or Page to the program. It is mandatory, even if no data or function is needed for the page.</li>
<li>For js file of each page, before <code>Page({ })</code>, <code>var app = getApp()</code> is used to access data and function from <code>app.js</code>.</li>
<li>Use <code>var util = require(&apos;../../utils/util.js&apos;)</code> in the first line of js file, to access util functions.</li>
<li>There is a data object in <code>APP({ })</code> or <code>Page({ })</code> in js file. The data object stores data for the current app or page.</li>
<li><code>this.getData</code>, <code>this.setData</code> are used to access the <code>data</code> object in the <code>.js</code> file.</li>
</ul>
<h4 id="wx-api">wx API</h4>
<p><a href="https://developers.weixin.qq.com/miniprogram/en/dev/api/open-api/login/wx.login.html" target="_blank">Click</a> to see complete list of wx methods.</p>
<h4 id="program-life-cycle">Program Life Cycle</h4>
<ul>
<li><code>onLaunch</code>, environment setup is done in this phrase.<pre><code class="lang-js">onLaunch: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-comment">//clear globalData</span>
<span class="hljs-keyword">this</span>.globalData = {}
}
</code></pre>
</li>
</ul>
<h3 id="wxml-file">wxml file</h3>
<ul>
<li><code>.wxml</code>, or WeiXin Markup Language File controls the layout of the mini program with its own component tags and attributes.</li>
<li><a href="https://developers.weixin.qq.com/miniprogram/en/dev/reference/wxml/" target="_blank">Click</a> to see the basic syntax.</li>
</ul>
<h4 id="attributes">Attributes</h4>
<p>id
class
style
hidden   //set true to hide, set false to show
data-dataName   //store data information
bind-Anyname    //bind with an event handler
cache-Anyname     //bind with an event handler</p>
<h4 id="components">Components</h4>
<p><a href="https://developers.weixin.qq.com/miniprogram/en/dev/component/" target="_blank">Click</a> to see a list of basic components.</p>
<p>view tag  //
block tag // contain data setting</p>
<p>button tag
    bindtag: use this outside the form
    form-type: use this when button is inside the form</p>
<p>form tag
    bindsubmit</p>
<p>input tag
    name
    placeholder</p>
<h3 id="wxss-file">wxss file</h3>
<ul>
<li><code>.wxss</code> file is the style sheet for the mini program.</li>
<li>wxss file uses rpx, the responsive pixel, the total width is 750rpx for all screen.</li>
<li>In wxss, use <code>@import &apos;filePath.wxss&apos;</code> to import style sheet from other wxss file.</li>
</ul>
<h2 id="create-a-new-page">Create a New Page</h2>
<p>There are two ways to create a new page. Either way works, relevant settings will be auto completed.</p>
<ul>
<li>Right click Pages folder to create new directory, then right click the new folder and select New Page.</li>
<li>Add the new page path and name in the pages property in app.json file.</li>
</ul>
<h2 id="cloud-services">Cloud Services</h2>
<h3 id="initialize">Initialize</h3>
<ol>
<li>Open Cloud Base and Enter a preferred environment name, an environment ID will be auto generated.</li>
<li>Create new collection in cloud base console.</li>
<li>Initialize the Cloud Services in the <code>app.js</code>&apos;s <code>onLaunch</code> function.<pre><code class="lang-js"><span class="hljs-keyword">if</span> (!wx.cloud) {
 <span class="hljs-built_in">console</span>.error(<span class="hljs-string">&apos;Please lib version 2.2.3 or above.&apos;</span>)
} <span class="hljs-keyword">else</span> {
 wx.cloud.init({
   <span class="hljs-comment">// enter the cloud environment id here.</span>
   <span class="hljs-comment">// It can be found in the cloud base panel/Setting.</span>
   env: <span class="hljs-string">&apos;env-id&apos;</span>,
   traceUser: <span class="hljs-literal">true</span>,
 })
}
</code></pre>
</li>
</ol>
<h3 id="usage">Usage</h3>
<h5 id="create">Create</h5>
<ul>
<li>Template, the cloud function returns an async function with the following implementation.<pre><code class="lang-js"><span class="hljs-comment">// get sdk</span>
<span class="hljs-keyword">const</span> cloud = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;wx-server-sdk&apos;</span>)
cloud.init()
<span class="hljs-comment">// get ref</span>
<span class="hljs-keyword">const</span> db = cloud.database();
<span class="hljs-comment">// cloud function goes inside.</span>
exports.main = <span class="hljs-keyword">async</span> (event, context) =&gt; {
  <span class="hljs-comment">// return a function here.</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> db.collection(<span class="hljs-string">&quot;collectionName&quot;</span>).where({}).get();
}
</code></pre>
</li>
<li>Read Data<ul>
<li>Return the following function to read data from cloud database(collection).<pre><code class="lang-js"><span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> db.collection(<span class="hljs-string">&quot;collectionName&quot;</span>).where({}).get();
</code></pre>
</li>
</ul>
</li>
<li>Update Data<ul>
<li>Return the following function to update data on cloud database(collection).<pre><code class="lang-js"><span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> db.collection(<span class="hljs-string">&quot;collectionName&quot;</span>).doc(event.id).update({
data: {
  votes: db.command.inc(<span class="hljs-number">1</span>)
}
})
</code></pre>
</li>
</ul>
</li>
<li>Write Data<ul>
<li>Return the following function to insert data to cloud database(collection).<pre><code class="lang-js"><span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> db.collection(<span class="hljs-string">&quot;collectionName&quot;</span>).add({
  data: {
    content: event.content,
    votes: <span class="hljs-number">0</span>
  }
})
</code></pre>
</li>
</ul>
</li>
</ul>
<h5 id="upload">Upload</h5>
<ul>
<li>Right click on the cloud function and upload it.<h5 id="call">Call</h5>
</li>
<li>in the js file for all pages, use <code>wx.cloud.callFunction()</code> to call a cloud function.<pre><code class="lang-js">wx.cloud.callFunction({
    name: <span class="hljs-string">&quot;cloudFunctionName&quot;</span>,
    data: {
      <span class="hljs-comment">//pass function parameters</span>
      id: <span class="hljs-keyword">this</span>.data.id
    },
    success: (res) =&gt; {
      <span class="hljs-comment">//callback after</span>
    },
    fail: <span class="hljs-built_in">console</span>.error
  })
</code></pre>
</li>
</ul>
<h2 id="preview-and-publish-the-app">Preview and Publish the App</h2>
<ul>
<li>Click upload button in the IDE to upload the trial version.</li>
<li>In the mini-program console, select review, the publish it.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="node-js.html" class="navigation navigation-prev " aria-label="Previous page: Node.js">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../c/" class="navigation navigation-next " aria-label="Next page: C">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Wechat Mini Program","level":"1.4.5","depth":2,"next":{"title":"C","level":"1.5","depth":1,"path":"c/README.md","ref":"c/README.md","articles":[]},"previous":{"title":"Node.js","level":"1.4.4","depth":2,"path":"javascript/node-js.md","ref":"javascript/node-js.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"javascript/wechat-mini-program.md","mtime":"2020-06-27T18:53:53.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-08-08T03:46:35.381Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

