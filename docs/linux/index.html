
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Linux Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="regex.html" />
    
    
    <link rel="prev" href="../cms/wordpress.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../python/">
            
                <a href="../python/">
            
                    
                    Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../python/anaconda.html">
            
                <a href="../python/anaconda.html">
            
                    
                    Anaconda
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../python/standard-library.html">
            
                <a href="../python/standard-library.html">
            
                    
                    Python Stardard Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../python/django.html">
            
                <a href="../python/django.html">
            
                    
                    Django
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../java/">
            
                <a href="../java/">
            
                    
                    Java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../java/javafx.html">
            
                <a href="../java/javafx.html">
            
                    
                    JavaFX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../java/android.md">
            
                <span>
            
                    
                    Android Studio
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../javascript/">
            
                <a href="../javascript/">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../javascript/jquery.html">
            
                <a href="../javascript/jquery.html">
            
                    
                    jQuery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../javascript/react.html">
            
                <a href="../javascript/react.html">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../javascript/react-native.html">
            
                <a href="../javascript/react-native.html">
            
                    
                    React Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../javascript/node-js.html">
            
                <a href="../javascript/node-js.html">
            
                    
                    Node.js
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../c-sharp/">
            
                <a href="../c-sharp/">
            
                    
                    C#
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../c-sharp/dot-net.html">
            
                <a href="../c-sharp/dot-net.html">
            
                    
                    .NET
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../c-sharp/asp-dot-net.html">
            
                <a href="../c-sharp/asp-dot-net.html">
            
                    
                    ASP.NET
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../c/">
            
                <a href="../c/">
            
                    
                    C
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../swift/">
            
                <a href="../swift/">
            
                    
                    Swift
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../swift/xcode.html">
            
                <a href="../swift/xcode.html">
            
                    
                    Xcode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../markup/">
            
                <a href="../markup/">
            
                    
                    Markup Language
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../markup/html.html">
            
                <a href="../markup/html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../markup/xml.html">
            
                <a href="../markup/xml.html">
            
                    
                    XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../markup/gfm.html">
            
                <a href="../markup/gfm.html">
            
                    
                    GFM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../css/">
            
                <a href="../css/">
            
                    
                    CSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../css/bootstrap.html">
            
                <a href="../css/bootstrap.html">
            
                    
                    Bootstrap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../typescript/">
            
                <a href="../typescript/">
            
                    
                    TypeScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../typescript/angular.html">
            
                <a href="../typescript/angular.html">
            
                    
                    Angular
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../php/">
            
                <a href="../php/">
            
                    
                    PHP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../cloud-services/">
            
                <a href="../cloud-services/">
            
                    
                    Cloud Services
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../cloud-services/aws.html">
            
                <a href="../cloud-services/aws.html">
            
                    
                    AWS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../cloud-services/google-cloud-platform.html">
            
                <a href="../cloud-services/google-cloud-platform.html">
            
                    
                    Google Cloud Platform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../solution-stack/">
            
                <a href="../solution-stack/">
            
                    
                    Solution Stack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../sql/">
            
                <a href="../sql/">
            
                    
                    SQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../wechat-mini-program/">
            
                <a href="../wechat-mini-program/">
            
                    
                    Wechat Mini Program
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../cms/">
            
                <a href="../cms/">
            
                    
                    Content Management Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../cms/wordpress.html">
            
                <a href="../cms/wordpress.html">
            
                    
                    WordPress
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.17" data-path="./">
            
                <a href="./">
            
                    
                    Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="regex.html">
            
                <a href="regex.html">
            
                    
                    Regular Expression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="bash-scripting.html">
            
                <a href="bash-scripting.html">
            
                    
                    Bash Scripting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../virtualization/">
            
                <a href="../virtualization/">
            
                    
                    Virtualization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../virtualization/virtualbox.html">
            
                <a href="../virtualization/virtualbox.html">
            
                    
                    VirtualBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="../virtualization/docker.html">
            
                <a href="../virtualization/docker.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../git/">
            
                <a href="../git/">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../graphic-design/">
            
                <a href="../graphic-design/">
            
                    
                    Graphic Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../networking/">
            
                <a href="../networking/">
            
                    
                    Networking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../maple/">
            
                <a href="../maple/">
            
                    
                    Maple
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="../theory/">
            
                <a href="../theory/">
            
                    
                    Theory
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.23.1" data-path="../theory/algorithm.html">
            
                <a href="../theory/algorithm.html">
            
                    
                    Data Structures and Algorithms
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Linux</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="linux">Linux</h1>
<h2 id="background">Background</h2>
<h3 id="unix">Unix</h3>
<ul>
<li>UNIX is an operating system since the 1960&#x2019;s</li>
<li>Unix is a <a href="www.unix.org">trademarked</a> name.</li>
<li>UNIX operating system is one that<ul>
<li>conforms to a set of standards</li>
<li>is registered with the governing body of the trademark.</li>
<li>If any those two requirement is not met, it can only be called Unix &apos;like&apos; OS.</li>
</ul>
</li>
<li>Active Unix OS:<ul>
<li>Hewlett Packard(HP-UX)</li>
<li>IBM AIX</li>
<li>IBM z/OS</li>
<li>Oracle Solaris</li>
<li>Apple macOS</li>
</ul>
</li>
</ul>
<h3 id="linux">Linux</h3>
<ul>
<li>Linux is Unix &quot;like&quot; OS.</li>
<li>Linux was created around 1990&apos;s</li>
<li>Linux is a <a href="www.linuxmark.org">trademarked</a> name.</li>
<li>Linux is the name of the OS kernel, means Linux &quot;based&quot; OS.</li>
<li>Active Linux OS:<ul>
<li>Google Android</li>
<li>Oracle Linux<ul>
<li>Red Hat Enterprise Linux</li>
<li>CentOS - It is based on Red Hat Enterprise Linux</li>
<li>Fedora</li>
</ul>
</li>
<li>Ubuntu Linux</li>
<li>Debian Linux</li>
</ul>
</li>
</ul>
<h2 id="basic-concepts">Basic Concepts</h2>
<h3 id="kernel">Kernel</h3>
<ul>
<li>The kernel is the core of Unix or Unix &quot;like&quot; OS, used to communicate to the hardware.</li>
<li>It has the following functions.<ul>
<li>Multi-tasking</li>
<li>File reads and writes</li>
<li>Connectivity to networks and devices</li>
<li>Resource allocation</li>
</ul>
</li>
</ul>
<h3 id="shell">Shell</h3>
<ul>
<li>Provides a command-line interface where the user can execute commands.</li>
<li>Each user can log into one session. use <code>alt+F1~F12</code> key to switch. (<code>Alt+F1</code> is the first session after OS boot)</li>
<li>It has the following functions.<ul>
<li>Interprets the user commands</li>
<li>Passes the interpreted commands to the kernel</li>
</ul>
</li>
<li>famous shells<ul>
<li>Bourne Shell(sh)</li>
<li>Bourne-Again Shell(bash), most used shell.</li>
<li>C Shell(csh)</li>
<li>Korn Shell(ksh)</li>
</ul>
</li>
</ul>
<h3 id="filesystem">Filesystem</h3>
<ul>
<li>For Unix/Linux OS every thing is a file</li>
<li>Types of file systems:<ul>
<li>xfs : Default filesystem for many newer Linux distributions</li>
<li>ext4 : 4th extended filesystem (still used with many Linux distributions)</li>
<li>exFAT : Provides support for Microsoft&#x2019;s exFAT (read + write)</li>
<li>NTFS : Provides support for Microsoft&#x2019;s NTFS (read-only)</li>
</ul>
</li>
<li>The filesystem start at root does not has volume letter</li>
<li>the directories/folders are files</li>
<li>home directory <code>~</code> are for users</li>
<li>the current folder shown before shell symbol, all its contain can be accessed without specify path. In short, <code>./</code> is ignored for file path.</li>
<li>For file contain space use &quot;&quot;&quot; surround the whole path.</li>
<li>Its important to remember that all Linux Operating systems are case sensitive</li>
<li>linux system use forward slash <code>/</code> and the following sign for relative path.<ul>
<li><code>.</code> is the current directory</li>
<li><code>..</code> is the previous directory</li>
<li><code>~</code> is the home directory</li>
<li><code>*</code> means all</li>
</ul>
</li>
<li>absolute path starts with <code>/</code> from root folder.</li>
<li>In Linux, files that start with a dot ( . ) are considered hidden files</li>
<li>Linux System has the following files structure.<ul>
<li>/ - the root of the file system</li>
<li>/var &#x2013; variable files or files that vary frequently</li>
<li>/root/Downloads &#x2013; downloads directory for the root user</li>
<li>/etc &#x2013; contains system wide configuration files</li>
<li>/etc/sysconfig/iptables &#x2013; the path to the iptables configuration file</li>
<li>/home &#x2013; contains all other user home directories</li>
<li>/home/username &#x2013; the username user home directory</li>
<li>/usr &#x2013; the &#x2018;user file system&#x2019; contains non-system critical files and binary (executable) files</li>
<li>/bin and /sbin &#x2013; contain system binary files</li>
</ul>
</li>
<li>drag file into the terminal to get its directory.</li>
<li>Files permission can be represented by a character followed by three groups of three letters.<ul>
<li><code>ls -al</code> shows the following info.<ul>
<li>the first character can be <code>-</code> means file, <code>d</code> means directories, <code>s</code> means a symbolic link.</li>
<li>First group is permission for users, second is for Groups, third is for others.</li>
<li>In each group <code>r</code> is read permission, <code>w</code> is write permission, <code>x</code> is execute permission, <code>-</code> is no permission.</li>
<li>execute permission for a folder means the permission to view its content.</li>
<li>the permission string is followed by the owner name, then owner group name.</li>
</ul>
</li>
<li>A permission code can be calculated, using <code>r</code>=4, <code>w</code>=2, <code>x</code>=1, <code>-</code>=0, and and them together.</li>
<li>For example, <code>400</code> means only user has read permission, so the file is private.</li>
</ul>
</li>
</ul>
<h2 id="general-commands">General Commands</h2>
<ul>
<li>Each command will return a status after execution, run <code>$?</code> to view the status of the last command.<ul>
<li>0 means succeed, 1 means error.</li>
<li>127 is command not found.</li>
</ul>
</li>
<li>Command options full name are after <code>--</code>. can use the first letter, can combine the letter after one common <code>-</code>.</li>
<li>Large command output press <code>Q</code> to quit. enter <code>/searchContent</code> to search.</li>
<li>Both the <code>| more</code> and the <code>| less</code> command provide paging functionality in a command line environment. For example <code>help | less</code>. shows output that can be control using up and down arrow.</li>
<li><code>| grep &lt;filterString&gt;</code> Grep will return only those lines in the file that contain the supplied string. For Example <code>cat /etc/man.config | grep MANPATH</code></li>
<li><code>startx</code> start X Windows System GUI.</li>
<li><code>shutdown &#x2013;h now</code> shutdown immediately.</li>
<li><code>shutdown &#x2013;r now</code> restart immediately.</li>
<li><code>appname &#x2014;version</code> check the current version for any app.</li>
<li><code>man &lt;command name&gt;</code> the man pages for Linux commands.</li>
<li><code>info &lt;command name&gt;</code> the info pages for certain Linux commands.</li>
<li><code>help &lt;command name&gt;</code> To get help with built-in shell commands use the help command</li>
<li><code>help</code> get list of built in command.</li>
<li><code>clear</code> clear screen</li>
<li><code>ls -al</code> <code>-l</code> for detail <code>-a</code> for include hidden files.<ul>
<li><code>ls</code> If no directory name is followed, it will list all of the files in the current working directory.</li>
<li><code>ls /etc</code> it will display all files inside the <code>etc</code> folder.</li>
<li>add <code>\</code> before ls to see not colored outputs.</li>
</ul>
</li>
<li><code>cd</code> Change directory to the directory followed, if nothing followed cd to home dir.</li>
<li><code>pwd</code> display the absolute path to the current working directory.</li>
<li><code>touch</code> create new file</li>
<li><code>basename &lt;path&gt;</code> return filename or directory portion of pathname</li>
<li><code>mkdir &lt;directory path(s)&gt;</code> make new dir<ul>
<li>create multiple new folderName separate by space.</li>
</ul>
</li>
<li><code>cp &lt;source&gt; &lt;destination&gt; -R</code>, copy files for folders, <code>-R</code> include directories.<ul>
<li><code>cp ~/a* ~/Documents/a</code> copy anything begins with a to <code>a</code> folder.</li>
</ul>
</li>
<li><code>mv &lt;source&gt; &lt;destination&gt;</code> The mv command is used to move or rename files</li>
<li><code>rm &lt;PathToFile&gt; -r</code> remove files for folders, <code>-r</code> includes folders.<ul>
<li>a folder must be empty in order to execute <code>rm</code> command.</li>
</ul>
</li>
<li><code>rmdir</code> remove empty directories</li>
<li><code>find &lt;fromFolderPath&gt; -type f -iname &quot;*.txt&quot; 2&gt; /dev/null</code><ul>
<li><code>-type f</code> is used to locates only files</li>
<li><code>-type d</code> is used to locates only directories</li>
<li><code>-iname</code> for any case of the file or directory name (case insensitive)</li>
<li><code>2&gt; /dev/null</code> Do not display any access error message</li>
</ul>
</li>
<li><code>route -n</code> for checking jumps info.</li>
<li><code>ifconfig eth0</code> will display networking information about the device named <code>eth0</code>.<ul>
<li><code>eth0</code> the number is the order in which the card has been detected, starting with a zero</li>
</ul>
</li>
<li><code>ifconfig</code> will display networking information about all device.</li>
<li><code>system-config-network-tui</code> starts an interactive network configuration utility.</li>
<li><code>ifup eth0</code> set <code>eth0</code> interface up.</li>
<li><code>ifdown eth0</code> set <code>eth0</code> interface down.</li>
<li><code>ip addr</code> will display the IP address for all active network interfaces.</li>
<li><code>route</code> will display the system default gateway information</li>
<li><code>uname -a</code> Print operating system info</li>
<li><code>cat &lt;file.txt&gt;</code> create or read a txt file.</li>
<li><code>*</code> will return all files in the current directory in a list.<ul>
<li><code>*.txt</code> will return files with a certain extension.</li>
</ul>
</li>
<li><code>which</code> print the path of the command.</li>
<li><code>echo</code> command is used to print the string or text file. Ex: <code>echo hello world</code>.<ul>
<li><code>echo</code> can be followed by a single line of string. In this case quotation marks need to be escaped by the backward slash.</li>
<li><code>echo</code> can be followed by strings surrounded by single or double quote marks, then backward slash for the other qoute is not required. <code>echo &quot;&apos;hello world&apos;&quot;</code></li>
<li><code>-e</code> will enable the backslash-escaped characters like <code>\n</code>, quotation marks are required.</li>
<li><code>-n</code> prevent adding a new line after the output is printed.</li>
<li><code>echo</code> adds a space automatically between two adjacent arguments (in the output) by default. <code>echo fileA fileB fileC</code>.</li>
</ul>
</li>
<li><code>diff &lt;file1&gt; &lt;file2&gt;</code> The diff command can be used to compare the contents of two files.</li>
<li><code>exit</code> exit the shell.</li>
<li><code>sleep &lt;numberOfSecond&gt;</code> pause the shell for a certain number of seconds.</li>
<li><code>mount &lt;deviceTypeLocation&gt; &lt;folderPath&gt;</code> mount a device to a folder.</li>
<li><code>mount &lt;deviceTypeLocation&gt;</code>. unmount a device.</li>
<li><code>source &lt;FileName&gt;</code>, it can be used to load any functions file into the current shell script or a command prompt. It read and executes commands from given FILENAME.</li>
<li><code>alias</code> it will list all the alias the shell current have.<ul>
<li>To add new alias temperately run <code>alias shortcut=&quot;fullCommand&quot;</code></li>
<li>Or place them into <code>.bash_profile</code> or <code>.bashrc</code> to make it available all the time.</li>
<li>run <code>unalias alias_name</code> to remove the alias.</li>
<li>run <code>unalias -a</code> to remove all alias.</li>
</ul>
</li>
</ul>
<h3 id="access-control">Access Control</h3>
<ul>
<li><code>who</code> see current who logged in.</li>
<li><code>who am i</code> check current user name</li>
<li><code>su</code> change to root user.</li>
<li><code>su username</code> change to certain user.</li>
<li><code>su -</code> change user and redirect to default home directory after changed.</li>
<li><code>sudo &lt;command&gt;</code> run any command as root user. using user password.<ul>
<li>when user password is entered, by default following sudo commands entered in 5 min, doesn&apos;t require any password.</li>
<li>control user to use certain command without using root password in <code>etc/sudoers</code> file.</li>
<li><code>visudo</code> this command is used to configure sudoers file, to edit it.<ol>
<li>In the template, find the command that will be made available to users or groups.</li>
<li>uncomment the alias, if all of the command in the same category are needed for the users or groups.</li>
<li>after the line <code>root ALL=(ALL) ALL</code> that defines root user has all access.</li>
<li>add <code>%&lt;groupname&gt; ALL=commandAliasNeeded</code>.</li>
</ol>
</li>
<li><code>sudo -l</code> list commands that are available for the current user without using root password.</li>
<li>to enable sudo log, add <code>Defaults logfile=/var/log/sudulog</code> in sudoers, using <code>visudo</code>.</li>
</ul>
</li>
<li><code>useradd &lt;newUsername&gt;</code> create new user account and add the user to a new private group named as the username.<ul>
<li>After execution, new user will be added in the <code>etc/passwd</code>. It has the following info <code>username:passwordLink:UserID(starting from 500):GroupID::homeDirectory:defaultShell</code>.</li>
</ul>
</li>
<li><code>passwd &lt;username&gt;</code>, follow the prompt to enter and confirm password.<ul>
<li>Password info will be stored in the <code>etc/shadow</code> file if the system use shadow password.</li>
<li>New account without setting password is not accessible, will show <code>!!</code> in the <code>etc/shadow</code> file.</li>
</ul>
</li>
<li><code>groupadd &lt;groupname&gt;</code> create a new group.<ul>
<li>group infos are stored in the <code>etc/group</code> file.</li>
</ul>
</li>
<li><code>usermod -G &lt;groupname&gt; &lt;username&gt;</code> add user to a group.</li>
<li><code>chmod &lt;permissionCode&gt; &lt;filePath&gt;</code> change the file permission.</li>
<li><code>chmod &lt;permissionCode&gt; &lt;folderPath&gt; -R</code> change permission for the folder and all its contents.</li>
<li>a permission formula can be used to replace the code.</li>
<li>first character can be <code>u</code> for user, <code>g</code> for group, <code>o</code> for others and <code>a</code> for all users.</li>
<li>followed by <code>=+</code> add permission, <code>=-</code> remove permission.</li>
<li>followed by permission <code>w</code>, <code>r</code>, or <code>x</code>.</li>
<li>Ex, <code>o=-rx</code>, remove read and execute permission for other users.</li>
<li>Ex, <code>-rx</code>, remove read and execute permission for all users.</li>
<li><code>chown &lt;username&gt;.&lt;groupname&gt; &lt;filePath&gt;</code> change file or directory&apos;s ownership.<ul>
<li><code>mount /dev/cdrom /media</code></li>
</ul>
</li>
<li><code>chown &lt;username&gt;.&lt;groupname&gt; &lt;folderPath&gt; -R</code> change ownership for directory and all files under it.<ul>
<li><code>umount /dev/cdrom</code></li>
</ul>
</li>
</ul>
<h2 id="tools">Tools</h2>
<h3 id="init-and-run-level">Init and Run Level</h3>
<ul>
<li>It is a daemon process that control the OS Run Level, it runs immediately after system starts up, end when the machine is shutdown.</li>
<li>A Run Level is used to control the start or end of certain system services in various level of usage for security reason.</li>
<li><code>/etc/rc0.d</code>~<code>/etc/rc9.d</code> folders stores links for services and whether it needs start or kill.</li>
<li>In the <code>rcN</code> folders, when a link starts with <code>S</code> it will be started in <code>N</code> run level. <code>K</code> means kill or stop the services.</li>
<li><code>/etc/inittab</code> stores information about the name and usage of all Run Levels and the system default Run Level when start up. <code>id:3:initdefault</code> means default Run Level when boot is 3.</li>
</ul>
<h4 id="related-commands">Related Commands</h4>
<ul>
<li><code>init 5</code> set run level to 5.</li>
<li><code>chkconfig --list</code> list all services and their run level.</li>
<li><code>chkconfig --list &lt;ServiceName&gt;</code> list certain service and its run level info.</li>
<li><code>chkconfig --level 3 &lt;ServiceName&gt; on</code> set certain service is on, in certain run level.</li>
<li><code>service &lt;ServiceName&gt; start</code> start a service</li>
<li><code>service &lt;ServiceName&gt; stop</code> stop a service</li>
<li><code>service &lt;ServiceName&gt; restart</code> restart a service</li>
<li><code>service &lt;ServiceName&gt; status</code> check status of a service</li>
</ul>
<h3 id="processes">Processes</h3>
<ul>
<li>Executing code (applications, services, etc) run as a processes.</li>
<li>Each process is assigned a process ID.</li>
<li><code>ps</code> list all the user processes</li>
<li><code>ps aux</code> list all the user processes including system process.</li>
<li><code>ps U root</code> list all the root user processes</li>
<li><code>ps U &lt;username&gt;</code> list all processes from certain user.</li>
<li>Processes are control by send signals<ul>
<li>common kill signal<ul>
<li><code>-1</code> or <code>&#x2013;SIGHUP</code> sends a &#x2018;hang up&#x2019; signal. Many daemon processes are programmed to re-read their configuration when they receive a HUP signal</li>
<li><code>-2</code> or <code>&#x2013;SIGINT</code> sends the same type of signal as <code>CTRL+ C</code>. Most programs will stop. In some instances there may be some data loss.</li>
<li><code>-9</code> or <code>&#x2013;SIGKILL</code>. The OS performs an &#x2018;unclean kill&#x2019;. The process is not informed that it is ending. Most likely to result in data loss. Should only be used to stop processes that appear to be unstoppable.</li>
<li><code>-15</code> or <code>&#x2013;TERM</code>. Sends a terminate signal. Tells the process to stop what it&#x2019;s doing and terminate itself. Less likely to result in data loss.</li>
</ul>
</li>
<li>Use Keyboard shortcut<ul>
<li><code>CTRL+C</code> &#x2013; End Process, quit gracefully</li>
<li><code>CTRL+D</code> &#x2013; End of Data, quit immediately</li>
<li><code>CTRL+Z</code> &#x2013; Stop Process or Send the Process to the background.</li>
</ul>
</li>
</ul>
</li>
<li>When a process is running it is called a job.<ul>
<li>Foreground Job - It is running, process is outputted in the console.</li>
<li>Background Job - It is running but is hidden.</li>
</ul>
</li>
</ul>
<h4 id="related-commands">Related Commands</h4>
<ul>
<li><code>kill -l</code> list kill signal options.</li>
<li><code>kill &#x2013;s &lt;signalNumber&gt; &lt;PID&gt;</code> kill a process with certain kill signal, the process is indicated by PID(Process ID).</li>
<li><code>jobs</code> list all current jobs.</li>
<li><code>fg &lt;jobNumber&gt;</code> bring a job to the foreground.</li>
<li><code>&lt;command&gt; &amp;</code> start a process and make it a background job.</li>
<li><code>bg</code> stop a foreground job first, then use this command to send it to the background.</li>
</ul>
<h3 id="environment-variables">Environment Variables</h3>
<h4 id="path">PATH</h4>
<ul>
<li>Every a command is run, it will search for the path of the commands according to the directories stored in the PATH variable.</li>
<li>It will search from left to right.</li>
<li>Change the PATH Variable<ul>
<li>The PATH variable can be changed temperately be run <code>PATH=$PATH:/other/dir</code> to append a new directory or run <code>PATH=/other/dir:$PATH</code> to prepend.</li>
<li>It can be changed in the users <code>bash_profile</code> file. It will work for certain user only.</li>
<li>To change the PATH variable for the entire system. Modifying the <code>etc/profile</code> file.</li>
<li>Scripts in <code>etc/profile.d</code> are also responsible for changing the system environment.</li>
</ul>
</li>
</ul>
<h4 id="ps1">PS1</h4>
<ul>
<li>It is used to customize the command prompt. <code>PS1=&quot;custom prompt&quot;</code></li>
<li>It utilizes the following special characters.<ul>
<li><code>\u</code> It will shows the current user name.</li>
<li><code>\h</code> hostname</li>
<li><code>\t</code> current time</li>
<li><code>\s</code> name of the shell</li>
<li><code>\n</code> newline</li>
<li><code>\w</code> current working directory</li>
<li><code>\W</code> current working directory basename</li>
</ul>
</li>
<li>Use <code>\[$(tput setaf colorCode)\]</code> to add color. Use <code>\[$(tput sgr0)\]</code> to reset the color to default.<ul>
<li><code>colorCode</code> uses <code>Xterm</code> number for 256 colors.</li>
</ul>
</li>
</ul>
<h3 id="bash-startup-files">Bash Startup Files</h3>
<h4 id="bashprofile"><code>bash_profile</code></h4>
<ul>
<li>It is located in each user&apos;s home directory.</li>
<li>It will export a PATH variable that stores a list of directories.</li>
<li>It is a shell script runs whenever new user login to a new seesion.</li>
</ul>
<h4 id="bashrc"><code>bashrc</code></h4>
<ul>
<li>It is located in each user&apos;s home directory.</li>
<li>It is a shell script that runs whenever the user run bash.</li>
</ul>
<h3 id="rsyslog">rsyslog</h3>
<ul>
<li>syslogd centralizes logging for many applications: Kernel messages, system error messages, login activity, etc.</li>
<li>Typically writes log files to the <code>/var/log</code> directory</li>
<li>When the configuration file is changed run <code>service rsyslog restart</code>.</li>
</ul>
<h4 id="configuration">Configuration</h4>
<ul>
<li>The syslogd deamon is controlled via the <code>/etc/rsyslog.conf</code> file</li>
<li><code>rsyslog.conf</code> stores a list of events that will be logged by syslogd.</li>
<li>Records in the <code>rsyslog.conf</code> follow this format: <code>facility.priorityLevel Action</code>.<ul>
<li>For example <code>kern.* /var/adm/kernel</code> stores all log messages from kernel facility to file <code>/var/adm/kernel</code>.</li>
</ul>
</li>
<li>facility<ul>
<li>By default, the facility for Apache is <code>local7</code>.</li>
<li><code>kern</code> is the kernel facility.</li>
</ul>
</li>
<li>LogLevel options:<ul>
<li>EMERG 0 System is unusable</li>
<li>ALERT 1 Action must be taken immediately</li>
<li>CRIT 2 Critical conditions</li>
<li>ERR 3 Error conditions</li>
<li>WARNING 4 Warning conditions</li>
<li>NOTICE 5 Normal but significant condition</li>
<li>INFO 6 Informational</li>
<li>DEBUG 7 Debug-level messages</li>
</ul>
</li>
<li>Selector Examples<ul>
<li><code>facility.priorityLevel</code> this part of the record is called selectors.</li>
<li><code>kern.*</code> select all levels of messages from kernel facility.</li>
<li><code>*.=emerg</code> select all <code>emerg</code> level messages.</li>
<li><code>kern.info</code> select all kern message from info to emerg.</li>
<li><code>*.=crit;kern.none</code> select all critical message, excluding kernal facility.</li>
<li><code>kern.info;kern.!err</code> select all kern message from info to warn.</li>
<li><code>mail.*;mail.!=info</code> select all mail message except info level.</li>
</ul>
</li>
<li>Action<ul>
<li>can be sent to a local file path.</li>
<li>can be sent to a remote host <code>@hostname</code></li>
<li>can be sent to a logged user <code>root,username</code>.</li>
</ul>
</li>
</ul>
<h3 id="rpm">RPM</h3>
<ul>
<li>Red Hat Package Manager</li>
<li><code>rpm -q &lt;ServiceName&gt;</code> check if a service is installed.</li>
</ul>
<h3 id="yum">YUM</h3>
<ul>
<li>It is a package manager</li>
<li><code>/etc/yum.conf</code> allows you to configure which software repositories to use globally (i.e., RedHat, Fedora, CentOS, etc&#x2026;)</li>
<li><code>/etc/yum.repos.d/</code> is the configuration file for the current repositories, that will override <code>/etc/yum.conf</code> configuration.</li>
<li><code>cdrom.repo</code> configuring this file allows installation from cd-rom</li>
<li><code>yum list available</code>, see a list of available software</li>
<li><code>yum install package_name</code>, install a specific package.</li>
<li><code>yum groupinstall &apos;groupname&apos; &apos;groupname2&apos;</code> install package groups.</li>
<li><code>yum groupinstall -y &apos;X Window System&apos; &apos;Desktop&apos; &apos;Fonts&apos;</code> install X window GUI</li>
<li><code>yum install gcc &#x2013;y</code> Install the C compiler.</li>
<li><code>yum install kernel -y</code> and <code>yum install kernel-devel &#x2013;y</code> install kernel development source.</li>
</ul>
<h3 id="vim">Vim</h3>
<ul>
<li><code>vi</code>, open vim.</li>
<li><code>vi filename.txt</code>, open a file with vi.</li>
<li>Vi has insert mode, press i to enter insert mode, press Esc to exit.</li>
<li>When out of insert mode, the following command works.<ul>
<li><code>:w filename.txt</code> save as <code>filename.txt</code> in the current folder.</li>
<li><code>:wq</code> or <code>ZZ</code>, save and quit.</li>
<li><code>:q!</code> quit without save.</li>
<li><code>:r &lt;file&gt;</code> insert file after current line.</li>
<li>Enter <code>/keyword</code> to search the keyword in the document. It is case ssensitive</li>
</ul>
</li>
</ul>
<h3 id="scp">SCP</h3>
<ul>
<li>It is used to transfer files between local machine and remote server.</li>
<li>scp <code>username@serverAddress:&lt;remote file path&gt; &lt;local file path&gt; -r</code>, <code>-r</code>means including folders</li>
<li>Ex, <code>scp -r 000123456@exampleserver.com:/foldername/public_html/ /users/username/Downloads</code></li>
</ul>
<h3 id="ssh">SSH</h3>
<ul>
<li>It is used to log in remote servers.</li>
<li>Ex, <code>ssh -i ~/.ssh/&quot;WordPress Key.pem&quot; ubuntu@ec2-13-229-104-228.ap-southeast-1.compute.amazonaws.com</code></li>
</ul>
<h3 id="npm">NPM</h3>
<ul>
<li><code>npm install -g npm@latest</code> update the npm to the last version.</li>
<li><code>npm install -g package-name</code> -g means install globally.</li>
<li><code>npm install</code> install packages listed in <code>package.json</code> file.</li>
<li><code>npm update</code> update packages listed in <code>package.json</code> file and update the <code>package.json</code> file.</li>
<li><code>npm list</code> list install package in the project folder.</li>
<li><code>npm list -g --depth=0</code> list all globally installed package, only show the root folder name.</li>
</ul>
<h3 id="mssql">mssql</h3>
<ul>
<li>SQL Server</li>
<li>run <code>yum install mysql</code> and <code>yum install mysql-server</code> to install</li>
<li>run <code>service mysqld start</code> to start.</li>
<li>need <code>php</code> and <code>php-mysql</code> to work with PHP.</li>
<li>Initially root username is <code>root</code>, password is empty string.</li>
<li><code>mysqladmin -u root password &apos;newpassword&apos;</code> set password for root account</li>
<li><code>mysql -u root -p</code> login to root and start the mysql command interface. enter password after prompt.</li>
<li><code>mysql -u userName -p</code> login to a user account. enter password after prompt.</li>
<li><code>mssql -u userName -p password</code> connect to SQL Server with password entered.</li>
<li>SQL account information is stored in the tables of the mysql database. See more about account management in SQL notes.</li>
<li>The username and password in the connection string in <code>PHP</code> can be stored as text in a file in the <code>/etc/httpd/</code> folder.</li>
</ul>
<h3 id="httpd">httpd</h3>
<ul>
<li>The Apache Web Service.</li>
<li>It includes a patched OpenSSL module in the current version.</li>
</ul>
<h4 id="installation">Installation</h4>
<ul>
<li>It can be pre-installed for most Linux.</li>
<li>It can be downloaded from its <a href="http://httpd.apache.org/download.cgi" target="_blank">official site</a><ul>
<li>Can use source code to install after compiling locally.(for Unix)</li>
<li>Can use the precompiled binary file to install.(for Windows)<ul>
<li>The binary file names include the platform for which the server has been compiled.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="modules">Modules</h4>
<ul>
<li>Modules are added to the server during compile-time.</li>
<li>Some directives only work when the corresponding modules are included.</li>
<li>Apache 2 has Multi-Processing Module(MPM) module,<ul>
<li>MPM&#x2019;s are platform-specific:<ul>
<li>Netware mpm_netware</li>
<li>OS/2 mpmt_os2</li>
<li>Unix prefork</li>
<li>Windows mpm_winnt</li>
</ul>
</li>
<li>They are responsible for:<ul>
<li>binding to network ports</li>
<li>accepting requests</li>
<li>dispatching children/threads to handle the request.</li>
</ul>
</li>
</ul>
</li>
<li><code>mod-so</code> modules support Dynamic Shared Objects (DSO) and enable the <code>LoadModule</code> directive.</li>
</ul>
<h4 id="configuration">Configuration</h4>
<ul>
<li>By default, configuration file is stored in <code>/etc/httpd/conf/httpd.conf</code>.</li>
<li>Any changes made to the main configuration files are only recognized by Apache when it is started or restarted.</li>
<li>The Apache server itself acts as user <code>apache</code> and in group <code>apache</code>.</li>
<li>Directives are the title of the setting.</li>
<li>Apache configuration files contain one directive per line</li>
<li>A specific setting(arguments) is written after the corresponding directive.</li>
<li>Directives in the configuration files are case-insensitive, arguments to directives are case-sensitive.</li>
<li>Lines that begin with the hash character (#) are comments and are ignored.</li>
<li>Blank lines and white space are ignored.</li>
<li>The directive has two types<ul>
<li>Variable Assignments <code>ServerRoot /etc/httpd</code></li>
<li>Block Directives<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">VirtualHost</span> <span class="hljs-attr">10.100.1.111</span>&gt;</span>
ServerAdmin    webmaster@abc.com
DocumentRoot /path/to/content
ServerName www.abccorp.com
DirectoryIndex index.html
<span class="hljs-tag">&lt;/<span class="hljs-name">VirtualHost</span>&gt;</span>
</code></pre>
</li>
</ul>
</li>
<li>Directive Scope<ul>
<li>Directives placed in the main section of the configuration file apply to the entire server</li>
<li>Placing Directives in one of the following blocks restricts them in a certain scope.<ul>
<li><code>&lt;Directory &quot;/path&quot;&gt;&lt;/Directory&gt;</code> - used to enclose a group of directives which will apply only to the named directory and its sub-directories</li>
<li><code>&lt;Files &quot;filename.html&quot;&gt;&lt;/Files&gt;</code> - provides for access control by filename.</li>
<li><code>&lt;Location&gt;&lt;/Location&gt;</code> provides for access control by URL. i.e. <code>Alias &quot;/cgi-bin&quot; &quot;/usr/bin/cgi-bin&quot;</code>, <code>&lt;Location &quot;/cgi-bin&quot;&gt;&lt;/Location&gt;</code></li>
<li><code>&lt;VirtualHost IP&gt;&lt;/VirtualHost&gt;</code> - used to enclose a group of directives which will apply only to a particular virtual host<ul>
<li>Apache can serve multiple websites simultaneously</li>
<li>Each site is referred to as a Virtual Host</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>There are 5 kinds of status directives have, based on the module it belongs to.<ul>
<li><code>Core</code> alway available.</li>
<li><code>Base</code> available by default.</li>
<li><code>MPM</code> available only when MPM is included.</li>
<li><code>Extension</code> not available by default.</li>
<li><code>Experimental</code> compatiable, but not supported.</li>
</ul>
</li>
<li>Here is a list of directives.<ul>
<li><a href="http://httpd.apache.org/docs/2.2/mod/directives.html" target="_blank">Click here</a> to see the complete list of directives.</li>
<li><code>ServerRoot</code><ul>
<li>It defines the root folder for the Apache server at compile-time.</li>
<li>The default value is <code>/etc/httpd</code>.</li>
</ul>
</li>
<li><code>Listen</code><ul>
<li>restrict apache to respond to requests on a specific IP address</li>
<li>By default the Listen directive is set to 80</li>
<li><code>Listen 10.100.1.101</code>, will ensure that Apache will only respond to requests destined for the IP Address 10.100.1.101</li>
<li><code>Listen 10.100.1.101:80</code>, ensures apache only responds to requests destined for the host 10.100.1.101 on port 80</li>
<li><code>Listen 80</code>, respond to requests on all bound IP addresses on port 80.</li>
</ul>
</li>
<li><code>DocumentRoot</code><ul>
<li>It set the folder for apache to serve web content.</li>
<li>usually has the following permission <code>chown root.apache /var/www/content -R; chmod 750 /var/www/content -R;</code></li>
</ul>
</li>
<li><code>Include</code><ul>
<li>tell apache to look for additional configuration directives located elsewhere in the file system.</li>
<li>The file path specified may be an absolute path, or may be relative to the ServerRoot directory (/etc/httpd)</li>
<li>The config file may have an extension as <code>.conf</code> and placed in the <code>/etc/httpd/conf.d</code> directory.</li>
<li>The argument can be:<ul>
<li>a file name, <code>Include conf/ssl.conf</code></li>
<li>a wildcard match to include several files at once, <code>conf/vhosts/*.conf</code></li>
<li>a directory, rather than a file. Apache will read all files in that directory and any subdirectory, <code>Include /etc/httpd/conf/vhosts/</code>.</li>
</ul>
</li>
<li><code>LoadModule</code> added modules to the Apache server.</li>
</ul>
</li>
<li><code>ErrorLog</code><ul>
<li>set the error log file name and path.</li>
<li><code>ErrorLog logs/error_log</code> Without a leading, it is assumed to be relative to the ServerRoot.</li>
<li><code>ErrorLog syslog</code> apache sends error messages to the syslogd daemon.</li>
<li><code>ErrorLog syslog:local0</code> apache sends error messages to the syslogd daemon with facility ID as <code>local0</code>.</li>
</ul>
</li>
<li><code>LogLevel</code><ul>
<li>set log level</li>
<li><code>LogLevel notice</code></li>
<li>Apache uses the same Error Log Levels as <code>syslogd</code>.<ul>
<li><code>emerg</code> - A crippling error causing the system to be unusable</li>
<li><code>alert</code> - immediate action is required</li>
<li><code>crit</code> - Apache can usually recover, but an important service or subsystem has failed</li>
<li><code>error</code> - an error has occurred in the content or in a request (useful in content debugging)</li>
<li><code>warn</code> - Apache has recovered from the error and the content was delivered</li>
<li><code>notice</code> - Normal but significant conditions (server starts and stops)</li>
<li><code>info</code> - minor events e.g. all child processes are busy and the server may become overloaded</li>
<li><code>debug</code> - detail the workings of the server, file openings and closings, socket management</li>
</ul>
</li>
</ul>
</li>
<li><code>TransferLog</code><ul>
<li>configure the location of a server or virtual host access information log.</li>
<li>use the default Common Log Format for the access logs.</li>
</ul>
</li>
<li><code>LogFormat</code><ul>
<li>configure custom format using Combined Log format.</li>
<li>Combined Log format is an extension of the Common Log Format (CLF) standard.</li>
<li>The default format can be represent as <code>LogFormat &#x201C;%h %l %u %t \&#x201D;%r\&#x201D; %&gt;s %b&#x201D;</code><ul>
<li><code>%h</code> - host name or IP address of the browser making the request</li>
<li><code>%l</code> - ident identification if available (requires an identd server)</li>
<li><code>%u</code> - the login name as supplied by the user if available</li>
<li><code>%t</code> - the date and time (CERN&#x2019;s Common Log Format)</li>
<li><code>%r</code> - the first line of the browser request</li>
<li><code>%&gt;s</code> - the status returned to the browser</li>
<li><code>%b</code> - the number of bytes sent in the response</li>
</ul>
</li>
<li>Example: <code>LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-agent}i\&quot;&quot; combined</code><ul>
<li><code>\</code> is used to escape <code>&quot;</code>.</li>
<li><code>combined</code> is a nickname chosen in the example.</li>
<li><code>\n</code> and <code>\t</code> can be used.</li>
</ul>
</li>
<li>The new format needs to output to an alias file.</li>
</ul>
</li>
<li><code>CustomLog</code><ul>
<li>apply an alias for the custom access log</li>
<li><code>CustomLog logs/myhost/access_log combined</code>.</li>
</ul>
</li>
<li><code>AllowOverride</code><ul>
<li>It is placed inside a <code>&lt;directory&gt;</code> block to enable or disable the directives stored in the <code>.htaccess</code>. The <code>.htaccess</code> should be in the same folder the <code>&lt;directory&gt;</code> specify.</li>
<li>changes made to <code>.htaccess</code> file does not require the service to restart to be in effect and it does depend on root user. However, it is less secure than adding directives directly inside the config files.</li>
<li>It has the following options.<ul>
<li><code>AuthConfig</code> - Allows the use of authorization/authentication directives (<code>AuthType</code>, <code>AuthName</code>, <code>Require</code>)</li>
<li><code>All</code> - any directives in the <code>.htaccess</code> will be allowed.</li>
<li><code>None</code>- apache will not look for an <code>.htaccess</code> file in that directory and access files will be ignored.</li>
<li><code>Indexes</code> - Allow use of the directives controlling the use and format of directory listings (List order, by file, by folder, use of icons)</li>
<li><code>Limit</code> - Allows the use of directives controlling host access (<code>Allow</code>, <code>Deny</code> and <code>Order</code>).</li>
<li><code>Options</code> - Allows the use of the directives controlling specific directory features (<code>Options</code> <code>Indexes</code>, <code>Includes</code>).</li>
</ul>
</li>
<li>When a folder is configured to use the <code>.htaccess</code> file, all its child directory will be check to see if the <code>.htaccess</code> exists.</li>
</ul>
</li>
<li>Access Control directives<ul>
<li>They can be placed in the <code>.htaccess</code> files or inside any block directives. Access inside the scope of the block directive will be controlled by the following rules they define.</li>
<li><code>Order Deny,Allow</code> default allow all, then make the Deny rules get checked first.</li>
<li><code>Order Allow,Deny</code> default deny all, then make the Allow rules get checked first.<ul>
<li>The last rules get run will override the preview rules.</li>
</ul>
</li>
<li><code>Allow from</code> and <code>Deny from</code> add rules. They can as many as need and be followed by:<ul>
<li><code>10.109.1.254</code> a full IP address.</li>
<li><code>10.109</code> a partial IP address.</li>
<li><code>10.1.0.0/255.255.0.0</code> IP/Mask</li>
<li><code>10.109.0.0/16</code> CIDR</li>
<li><code>example.com</code> URL</li>
<li><code>2001::4137:9e74:8e9:66e:0:651b</code> IPv6</li>
<li><code>all</code></li>
</ul>
</li>
</ul>
</li>
<li><code>Options</code><ul>
<li>It should be defined after the virtual host block host in the directory block.</li>
<li>It makes the website have access to certain directory. In the virtual host config file, both of the following examples work.<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Directory</span> /<span class="hljs-attr">var</span>/<span class="hljs-attr">www</span>/<span class="hljs-attr">vhost</span>/<span class="hljs-attr">files</span>&gt;</span>
  Options Indexes
<span class="hljs-tag">&lt;/<span class="hljs-name">Directory</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Directory</span> /<span class="hljs-attr">var</span>/<span class="hljs-attr">www</span>/<span class="hljs-attr">vhost</span>/<span class="hljs-attr">files</span>&gt;</span>
  Options +Indexes
<span class="hljs-tag">&lt;/<span class="hljs-name">Directory</span>&gt;</span>
</code></pre>
</li>
<li>The link to the folder for the website will be <code>href=&quot;./files&quot;</code> if <code>/var/www/vhost</code> is the DocumentRoot folder.</li>
<li>When a request is made that maps to a directory and there is no <code>DirectoryIndex</code> (e.g., index.html) in that directory, then a formatted listing of the directory will be returned to the browser.</li>
</ul>
</li>
<li><code>Mod_ssl</code> Directives<ul>
<li>It is used to setup the <code>Mod_ssl</code> Directives</li>
<li>Global setting are done in the <code>/etc/httpd/conf.d/ssl.conf</code> file.</li>
<li>add the following directives inside the <code>&lt;VirtualHost&gt;</code> block for the server.<ul>
<li><code>SSLEngine on</code></li>
<li><code>SSLCertificateFile &lt;CertificateFilePath&gt;</code></li>
<li><code>SSLCertificateKeyFile &lt;KeyFilePath&gt;</code></li>
</ul>
</li>
<li>After changing the config file stop and start the service(not restart). enter the pass phrase for Apache to access the key file.</li>
<li>make sure the firewall allows <code>https</code> transmition.</li>
</ul>
</li>
</ul>
</li>
<li>Apache Web Users<ul>
<li><code>htpasswd -c /etc/httpd/passwords username</code> follow the prompt to enter the password and add the user<ul>
<li><code>-c /etc/httpd/passwords</code> will to create or override the file <code>/etc/httpd/passwords</code> with a new user added later.</li>
<li>the username in the password is in plaintext, and the password is hashed.</li>
<li>A group file can be created manually that contains a list of users in a defined group.<ul>
<li><code>vi /etc/httpd/conf/groups</code> create a group file.</li>
<li><code>groupname: user1 user2 user3</code> add users and groups in this format.</li>
</ul>
</li>
<li>the password file and group file should hava permission that only allow the web server to read the file and root to read and write to it.<ul>
<li><code>chown root.apache /etc/httpd/passwords</code></li>
<li><code>chmod 640 /etc/httpd/passwords</code></li>
</ul>
</li>
<li>For security concern, make sure that the group file and the user file are stored outside of the document tree of the web server.</li>
</ul>
</li>
<li>Add the following directives to the <code>&lt;directory&gt;</code> scope or in <code>.htaccess</code> file to make the authentication be in effect.<ul>
<li><code>AuthType</code> Authentication type being used. It can be,<ul>
<li><code>Basic</code> which uses Base64 encoding of credentials</li>
<li><code>Digest</code> may have some client-side support issues</li>
</ul>
</li>
<li><code>AuthName &quot;Auth Name&quot;</code><ul>
<li>It is the title of the dilogue box.</li>
<li>Sent with http 401 message</li>
<li>Defines the name of the authentication realm</li>
<li>The client browser caches the username and password that you supplied, and stores it along with the authentication realm, if other resources are requested from the same realm, the same username and password can be returned.</li>
</ul>
</li>
<li><code>AuthUserFile</code> Specifies the path to the password file</li>
<li><code>AuthGroupFile</code> Specifies the path to the group file if any</li>
<li><code>Require</code> control who can enter password and username. It can be followed by the following options.<ul>
<li><code>user</code> followed by a username or a space delimited list of usernames</li>
<li><code>group</code> followed by a group name or a space delimited list of groups</li>
<li><code>valid-user</code> any user in the user file.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="command">Command</h4>
<ul>
<li><code>service httpd start</code> or <code>apachectl start</code> start apache server.</li>
<li><code>service httpd restart</code> or <code>apachectl restart</code> to restart apache server.<ul>
<li>needed whenever the server configuration is changed.</li>
</ul>
</li>
<li><code>/etc/httpd/conf/httpd.conf</code> the main Apache configuration file.<ul>
<li><code>cat /etc/httpd/conf/httpd.conf | grep &apos;User&apos;</code> see permission that is assigned to users in the user directives.</li>
<li><code>cat /etc/httpd/conf/httpd.conf | grep &apos;Group&apos;</code> see permission that is assigned to groups in the user directives.</li>
<li><code>cat /etc/httpd/conf/httpd.conf | grep &apos;DocumentRoot&apos;</code> see which folder is set as the default website&#x2019;s content folder.</li>
</ul>
</li>
<li><code>/etc/httpd/logs/error_log</code> apache server error log.</li>
<li><code>apachectl configtest</code> Or <code>apachectl -t</code>, check for syntax errors in conf files.</li>
<li><code>apachectl -l</code>, see which modules are currently compiled into the server</li>
</ul>
<h4 id="ab">ab</h4>
<ul>
<li>It is a benchmark tool that can be used to test how a given Apache server performs.</li>
<li><code>ab &#x2013;Ausername:password &#x2013;n30 -c3 &#x2013;v1 http://urlfortesting/index.html</code> run test on the target URL and return result.<ul>
<li>The <code>&#x2013;A</code> option specifies the authentication credentials to send to the server</li>
<li>The <code>&#x2013;n</code> option specifies the number of requests to be made</li>
<li>The <code>&#x2013;c</code> option specifies the number of concurrent connections to be made</li>
<li>The <code>&#x2013;v</code> option specifies the level of reporting (verbosity)</li>
</ul>
</li>
</ul>
<h3 id="openssl">openssl</h3>
<ul>
<li>OpenSSL is an open-source command line tool that is commonly used to generate private keys, create CSRs, install your SSL/TLS certificate, and identify certificate information.</li>
<li>OpenSSL version <code>1.0.1</code>, <code>1.0.1f</code>, <code>1.0.2-beta</code>, <code>1.0.2-beta1</code> are vulnerable to the HeartBleed bug.</li>
<li>run <code>openssl genrsa -des3 -out server.ca.key 2048</code> to generates a Triple-DES encrypted and PEM formatted private key in the current directory. will be prompted for a pass phrase. The pass phrase will be used to encrypt the private key.<ul>
<li>the private key file <code>server.ca.key</code></li>
</ul>
</li>
<li>run <code>openssl req -new -x509 -days 365 -key server.ca.key -out 192.168.100.100.crt</code> and will create a self-signed x509 Certificate, valid for one year (365 days) in the current directory. Signed with private key <code>server.ca.key</code>. will be prompted to enter the pass phrase to access the private key.<ul>
<li>the certificate file will be <code>192.168.100.100.crt</code></li>
<li>Users will be prompted to enter the Distinguished Name. For some of the field enter <code>.</code> can leave it blank.</li>
</ul>
</li>
</ul>
<h3 id="iptables">iptables</h3>
<ul>
<li>It is the firewall for the OS.</li>
<li>Iptables is used to setup, maintain and query the filter tables.</li>
<li>Filter Table has three chains<ul>
<li><code>Input</code> Packets entering system</li>
<li><code>Output</code> Packets leaving system</li>
<li><code>Forward</code> Packets going through system (routed)</li>
</ul>
</li>
<li>Each chain is a list of rules which can match a set of packets.<ul>
<li>With iptables, packets traverse the chain rules until there is a match and then follow the specified target</li>
<li>No more entries in the chain are processed after a match</li>
<li>If there is no match, the chain default policy is applied</li>
</ul>
</li>
<li>Built-in targets have the following options for matching packets.<ul>
<li><code>Accept</code> &#x2013; allow packet</li>
<li><code>Drop</code> &#x2013; drop the packet</li>
<li><code>Queue</code> &#x2013; sent to an internal application</li>
<li><code>Return</code> &#x2013; move to end of rules<ul>
<li>Built-in chain - Default policy</li>
<li>User chain &#x2013; return to calling chain</li>
</ul>
</li>
</ul>
</li>
<li>One can set default action for all chains, There are two approaches in practice.<ul>
<li>Allow everything by default then specifically define rules for denying</li>
<li>Allow nothing by default. then specifically define rules for allowing</li>
</ul>
</li>
<li>The configuration file for filter tables for IPv4 is stored in <code>/etc/sysconfig/iptables</code></li>
<li>The configuration file for filter tables for IPv6 is stored in <code>/etc/sysconfig/ip6tables</code></li>
<li><p>Commands</p>
<ul>
<li><code>service iptables start</code> start the firewall.</li>
<li><code>service iptables save</code> save changes to the iptables.</li>
<li><code>iptables -L -n</code> list on rules in the filter table.</li>
<li><code>iptables -L &lt;chainName&gt;</code> list all rules for certain chain.</li>
<li><code>iptables &#x2013;F &lt;chainName&gt;</code> delete all rules in certain chain.</li>
<li><code>iptables -A &lt;chainName&gt; &lt;&#x2013;i/-o&gt; &lt;interfaceName&gt; -j &lt;targetName&gt;</code> append a new rule in certain chain.<ul>
<li>use <code>-i</code> for input interface.</li>
<li>use <code>-o</code> for output interface.</li>
</ul>
</li>
<li><code>iptables -I &lt;chainName&gt; &lt;insertLineNumber&gt; &lt;&#x2013;i/-o&gt; &lt;interfaceName&gt; -j &lt;targetName&gt;</code> Insert a rule in certain chain.</li>
<li>Ex: <code>iptables &#x2013;I INPUT 3 -i eth0 &#x2013;p tcp -&#x2013;dport 1024:65535 -j ACCEPT</code> insert a rule at line 3.<ul>
<li><code>1024:65535</code> means ports 1024 through 65535.</li>
<li><code>-p</code> is followed by the Protocol Name.</li>
<li><code>-&#x2013;dport</code> is followed by the specific port number or port range.</li>
<li>In the rules if anything is not specified, all of them will be taken into consideration.</li>
</ul>
</li>
<li><code>iptables -P &lt;chainName&gt; &lt;defaultAction&gt;</code> set the default policy.<ul>
<li>chainName &#x2013; <code>INPUT</code>, <code>OUTPUT</code>, <code>FORWARD</code></li>
<li>defaultAction - <code>ACCEPT</code>, <code>DROP</code>, <code>REJECT</code></li>
<li>Example, <code>iptables -P INPUT DROP</code> set the default policy to deny all inbound connections</li>
</ul>
</li>
</ul>
</li>
<li><p><code>system-config-firewall</code> is a graphical interface for configuring basic firewall rules.</p>
</li>
<li><code>system-config-firewall-tui</code>, start the text based system-config-firewall utility.<ul>
<li>Use tab Key to move between elements.</li>
<li>Use space bar to toggle on and off.</li>
<li>Use enter key to select elements.</li>
</ul>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../cms/wordpress.html" class="navigation navigation-prev " aria-label="Previous page: WordPress">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="regex.html" class="navigation navigation-next " aria-label="Next page: Regular Expression">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Linux","level":"1.17","depth":1,"next":{"title":"Regular Expression","level":"1.17.1","depth":2,"path":"linux/regex.md","ref":"linux/regex.md","articles":[]},"previous":{"title":"WordPress","level":"1.16.1","depth":2,"path":"cms/wordpress.md","ref":"cms/wordpress.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"linux/README.md","mtime":"2020-03-25T04:49:11.683Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-25T19:51:01.914Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

